<html>
	<head>
		<title>Diamond Clicker</title>
		<script src="https://cdn.ravenjs.com/3.18.1/raven.min.js" crossorigin="anonymous"></script>
		<script>
			Raven.config('https://2bc1c33480984a7e8a83ee092d2d3cc5@sentry.io/229412').install()
			Raven.isSetup()
		</script>
		<h3><button onclick="diamondClick()">Mine Diamond</button> diamonds: <span id="diamonds">0</span></h3>
		<h3>Diamonds</h3>
		<p>Diamond Miners: <span id="miners">0</span>
		<p>Diamond Drills: <span id="drills">0</span>
	</head>
	<body>
		<button onclick="buyDiamondMiner()">Buy Diamond Miner</button> Cost: <span id="DiamondMinerCost">10</span>
		<button onclick="buyDiamondDrill()">Buy Diamond Drill</button> Cost: <span id="DiamondDrillCost">200</span>
		
		
		<p>Save / Load</p>
		<button onclick="saveGame()">Save Game</button> NOTICE: <span id="saveGame">Saves game to a browers cookie!</span>
		<button onclick="loadGame()">Save Game</button> NOTICE: <span id="loadGame">Loads game from a browers cookie!</span>
		<p>Last Saved: <span id="lastSaved">00:00:00</span></p>
		<script>
			var diamonds = 0;
        		var miners = 0;
        		var minercost = 25;
        		var drillcost = 200;
       			var drills = 0;
        		var makercost = 1000;
       			var makers = 0;
        		var quarrycost = 10000;
        		var quarrys = 0;
        		var istimeron = new boolean(true);
        		var millionAchivement = new boolean(false);
        		var TenMinersAchivement = new boolean(false);
			
			document.getElementById("diamonds").innerHTML = diamonds;
			
			function diamondClick(){
				diamonds + 1;
				document.getElementById("diamonds").innerHTML = diamonds;
			};
			function buyDiamondMiner(){
				var DiamondMinerCost = Math.floor(25 * Math.pow(3.2, DiamondMiner));
				if (diamonds > DiamondMinerCost){
					DiamondMiner = DiamondMiner + 10;
					diamonds = diamonds - DiamondMinerCost;
					document.getElementById('DiamondMiner').innerHTML = DiamondMiner;
					document.getElementById('diamonds').innerHTML = diamonds;
				};
					var nextCost = Math.floor(10 * Math.pow(3.2, DiamondMiner));
					document.getElementById('DiamondMinerCost').innerHTML = nextCost;
			
			window.setInterval(function(){
				diamondClick(drills);
				}, 1000);
		
		function buyDiamondDrill(){
				var DiamondDrillCost = Math.floor(25 * Math.pow(3.2, DiamondDrill));
				if (diamonds >= DiamondDrillCost){
					DiamondDrill = DiamondDrill + 10;
					diamonds = diamonds - DiamondMinerCost;
					document.getElementById('DiamondDrill').innerHTML = DiamondDrill;
					document.getElementById('diamonds').innerHTML = diamonds;
				};
					var nextCost = Math.floor(10 * Math.pow(3.2, DiamondDrill));
					document.getElementById('DiamondDrillCost').innerHTML = nextCost;
		function saveGame(diamonds, miners,  drills,makers, quarrys){
			
			int d = Convert.ToInt32(diamondsstring, 2);
                    	int m = Convert.ToInt32(minersstring, 2);
                    	int dr = Convert.ToInt32(drillsstring, 2);
                    	int ma = Convert.ToInt32(makersstring, 2);
                    	int q = Convert.ToInt32(quarrystring, 2);
                    	
			diamonds = d;
                    	miners = m;
                    	drills = dr;
                    	makers = ma;
                    	quarrys = q;
                    	miners++;
                    	makers++;
                    	drills++;
                    	
			quarrys++;
                    if (miners > 1)
                    {
                        minercost = 35;
                    }
                    	else{
                        	minercost = 25;
                    	}
                    if (makers > 1)
                    {
                        makercost = 1350;
                    }
                    	else
                    	{
                        	makercost = 1000;
                    	}
                    if (quarrys > 1)
                    {
                        quarrycost = 12000;
                    }
                    	else
                    	{
                        	quarrycost = 10000;
                    	}
                    if (drills > 1)
                    {
                        drillcost = 235;
                    }
                    	else
                    	{
                        	drillcost = 200;
                    	}
			
                    minercost = minercost * miners;
                    makercost = makercost * makers;
                    drillcost = drillcost * drills;
                    quarrycost = quarrycost * quarrys;
			
                    quarrys--;
                    miners--;
                    makers--;
                    drills--;
			
			//Save cookies to browser
			document.cookie = "diamonds=" + diamonds;
			document.cookie = "miners=" + miners;
			document.cookie = "drills=" + drills;
			document.cookie = "makers=" + makers;
			document.cookie = "quarrys=" + quarrys;
			document.getElementById("lastSaved").innerHTML = lastSaved();
		}
		</script>
	</body>
</html>
